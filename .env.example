# ─── Telegram Bot ──────────────────────────────────────────
# Token from @BotFather — never share this
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Comma-separated Telegram user IDs allowed to control the bot.
# Get yours by messaging @userinfobot on Telegram.
TELEGRAM_ALLOWED_USERS=123456789

# ─── Binance API ───────────────────────────────────────────
BINANCE_API_KEY=your_binance_futures_api_key_here
BINANCE_SECRET_KEY=your_binance_futures_secret_key_here

# true = use Binance Futures testnet
BINANCE_TESTNET=false

# ─── Trading Mode ──────────────────────────────────────────
# PAPER_TRADING=true → no real orders, simulated execution
PAPER_TRADING=true

# Sync open positions from exchange on startup (detect ghost trades)
STARTUP_RECONCILE=true

# ─── Leverage ──────────────────────────────────────────────
# Bot sets this on all tracked symbols at startup.
# Position sizing is SL-based and leverage-aware.
LEVERAGE=10

# ─── Risk Management ───────────────────────────────────────
BASE_RISK_PCT=0.5
MAX_RISK_PCT=1.0
HIGH_WIN_RISK_PCT=0.75
LOW_STREAK_RISK_PCT=0.25
HIGH_WIN_THRESHOLD=60.0
CONSECUTIVE_LOSS_TRIGGER=3
DRAWDOWN_PAUSE_PCT=5.0
DRAWDOWN_HALT_PCT=8.0

# ─── Signal Filters ────────────────────────────────────────
MIN_RR=1.5
MIN_RR_STRICT=2.0
MAX_SPREAD_PCT_OF_SL=10.0
MAX_PRICE_MOVED_TO_TP_PCT=50.0

# ─── Indicators ────────────────────────────────────────────
ATR_PERIOD=14
EMA_FAST=20
EMA_MID=50
EMA_SLOW=200
CANDLE_LIMIT=250

# ─── Confidence Thresholds ─────────────────────────────────
CONFIDENCE_REJECT_THRESHOLD=40
CONFIDENCE_REDUCE_THRESHOLD=60

# ─── Exchange Info Cache (seconds) ─────────────────────────
# Prevents fetching 500-symbol payload on every signal
EXCHANGE_INFO_CACHE_TTL=3600.0

# ─── Entry / Exit ──────────────────────────────────────────
ENTRY_POLL_INTERVAL_SEC=1.0
ENTRY_ZONE_TIMEOUT_MIN=60.0
POSITION_MONITOR_INTERVAL_SEC=2.0
ATR_TRAIL_MULTIPLIER=1.0
TP1_SIZE_PCT=50.0
STALL_CANDLES=30

# ─── Performance ───────────────────────────────────────────
PERF_ROLLING_WINDOW=20
TRADES_CSV_PATH=trades.csv
STATE_JSON_PATH=state.json

# ─── API / Retry ───────────────────────────────────────────
RETRY_ATTEMPTS=5
RETRY_BASE_DELAY_SEC=1.0
RETRY_MAX_DELAY_SEC=30.0
# Pause duration after HTTP 429 rate-limit response
RATE_LIMIT_PAUSE_SEC=60.0

# ─── Logging ───────────────────────────────────────────────
LOG_LEVEL=INFO
# Renamed from bot.log in v1
LOG_FILE=kubera.log
